<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Juego Especial ğŸ’˜</title>
  <style>
    /* ğŸŒŸ Fondo romÃ¡ntico tipo lego */
    body {
      font-family: "Comic Sans MS", cursive, sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      text-align: center;
      padding: 40px;
      color: #fff;
    }

    /* ğŸŒŸ Tarjeta estilo bloque lego */
    .card {
      background: #ff6f91;
      padding: 30px;
      border-radius: 10px;
      max-width: 500px;
      margin: auto;
      box-shadow: 4px 4px 0 #ffb3c1;
      border: 4px solid #fff;
      position: relative;
    }

    .card::before {
      content: "â¤ï¸";
      font-size: 40px;
      display: block;
      margin-bottom: 10px;
    }

    /* ğŸŒŸ Botones estilo lego */
    button {
      background: #ffcb05;
      color: #222;
      border-radius: 5px;
      padding: 15px 25px;
      font-size: 16px;
      margin: 10px;
      border: 3px solid #f58220;
      cursor: pointer;
    }

    button:hover {
      background: #ffb347;
    }

    #yesButton, #noButton {
      position: relative; /* para que NO pueda moverse */
    }
  </style>
</head>

<body>

<div class="card" id="game">
  <h1>Hola corazÃ³n </h1>
  <p>Vamos a jugar algoâ€¦</p>
  <button onclick="nextStep(1)">STARTğŸ’Œ</button>
</div>

<!-- ğŸµ Sonido de acierto -->
<audio id="correctSound" preload="auto">
  <source src="correcto.mp3" type="audio/mpeg" />
</audio>

<!-- ğŸ¶ MÃºsica de fondo (muted para que no bloquee autoplay) -->
<audio id="bgMusic" loop muted>
  <source src="musica.mp3" type="audio/mpeg" />
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script>
  // ğŸŒŸ Confeti
  function lanzarConfeti() {
    confetti({
      particleCount: 100,
      spread: 70,
      origin: { y: 0.6 },
      colors: ['#ff4d6d', '#ffb3c1', '#fff'],
    });
  }

  // ğŸŒŸ Respuesta correcta
  function correcta(siguiente) {
    document.getElementById('correctSound').play();
    lanzarConfeti();
    alert("ğŸ’– Correctooo ğŸ˜ sabÃ­a que contestarias bien");
    nextStep(siguiente);
  }

  // ğŸŒŸ Respuesta incorrecta
  function incorrecta() {
    alert("âŒ Nooo, intenta otra vez");
  }

  // ğŸŒŸ LÃ³gica del juego
  function nextStep(step) {
    const game = document.getElementById("game");

    if (step === 1) {
      game.innerHTML = `
        <h1>Pregunta 1 ğŸ’­</h1>
        <p>Â¿DÃ³nde fue nuestra primera cita?</p>
        <button onclick="correcta(2)">En Waffles and Coffee</button>
        <button onclick="incorrecta()">En Al SÃºper ğŸ›’</button>
      `;
    }

    if (step === 2) {
      game.innerHTML = `
        <h1>Pregunta 2 ğŸ’—</h1>
        <p>Â¿Me seguirÃ­as amando si un dÃ­a me convierto en una cebolla?</p>
        <button onclick="incorrecta()">No, que asco mejor nada</button>
        <button onclick="correcta(3)">Ooooobvio que si ğŸ’•</button>
      `;
    }

    if (step === 3) {
      game.innerHTML = `
        <h1>Ãšltima pregunta ğŸ’˜</h1>
        <p>Esta sÃ­ es MUY importanteâ€¦</p>
        <h2>Â¿Quieres ser mi San ValentÃ­n? ğŸŒ¹</h2>
        <button id="yesButton">SÃ ğŸ’</button>
        <button id="noButton">NO ğŸ˜³</button>
      `;

      const yesBtn = document.getElementById('yesButton');
      yesBtn.addEventListener('click', function() {
        document.getElementById('correctSound').play();
        lanzarConfeti();
        alert("ğŸ’– SABÃA QUE DIRÃAS QUE SÃ, TE AMOOO ğŸ’–");
      });

      const noBtn = document.getElementById('noButton');
      noBtn.addEventListener('mousemove', function() {
        const x = Math.random() * 300;
        const y = Math.random() * 100;
        noBtn.style.transform = `translate(${x}px, ${y}px)`;
      });

      noBtn.addEventListener('click', function() {
        alert("no puedes decir que no!");
      });
    }
  }

  // ğŸŒŸ Para activar la mÃºsica al primer clic del usuario (desbloqueo autoplay)
  document.body.addEventListener('click', () => {
    const music = document.getElementById('bgMusic');
    if (music.paused) {
      music.muted = false;  // quita silencio
      music.play();
    }
  }, { once: true });
</script>

</body>
</html>
